!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},WindowSkeleton=require("./WindowSkeleton.js"),Websocket=require("./Websocket.js"),CreateChatWindows=require("./CreateChatWindows.js"),Prompt=require("./Prompt.js"),DropDown=require("./DropDownMenu.js"),Chat=function(_WindowSkeleton){function Chat(){_classCallCheck(this,Chat);var _this=_possibleConstructorReturn(this,(Chat.__proto__||Object.getPrototypeOf(Chat)).call(this,"chat",80));return _this.menu=_get(Chat.prototype.__proto__||Object.getPrototypeOf(Chat.prototype),"getMenuHandle",_this).call(_this),_this.container=_get(Chat.prototype.__proto__||Object.getPrototypeOf(Chat.prototype),"getDiv",_this).call(_this),_this.newSocket=new Websocket("ws://vhost3.lnu.se:20080/socket/"),_this.innercontainer=_get(Chat.prototype.__proto__||Object.getPrototypeOf(Chat.prototype),"getInnerContainer",_this).call(_this),_this.template=document.querySelector("#chatWindowMain"),_this.handle=document.importNode(_this.template.content,!0),_this.menuContent="Change username",_this.chatWindow=_this.handle.firstElementChild,_this.submit=_this.handle.firstElementChild.nextElementSibling,_this.submitButton=_this.submit.lastElementChild,_this.createDropDown(_this.menuContent),_this.drawChat(),_this.checkForUserName(),_this.chatWindows=new CreateChatWindows,_this.socket=_this.newSocket.getSocket(),_this.myMessage=null,_this.userName=null,_this.dropdownMenu=null,_this.windowListeners(),_this}return _inherits(Chat,_WindowSkeleton),_createClass(Chat,[{key:"checkForUserName",value:function(){localStorage.getItem("username")?this.newSocket.setUserNameViaStorage():(new Prompt("No stored username found, please provide one to proceed with the awesomeness.","chat"),this.newSocket.setUserNameViaStorage())}},{key:"windowListeners",value:function(){this.socket.addEventListener("open",function(){this.submit.lastElementChild.addEventListener("click",function(){this.myMessage=this.submit.firstElementChild.value,this.submit.firstElementChild.value="",this.newSocket.sendMessage(this.myMessage),this.chatWindows.createMymsg(this.myMessage,this.chatWindow,this.newSocket.getUserName())}.bind(this))}.bind(this)),this.socket.addEventListener("message",function(e){var message=JSON.parse(e.data);"heartbeat"!==message.type&&this.chatWindows.createSrvMsg(message.data,this.chatWindow,message.username)}.bind(this))}},{key:"drawChat",value:function(){this.innercontainer.appendChild(this.chatWindow),this.innercontainer.appendChild(this.submit)}},{key:"createDropDown",value:function(){var menu=new DropDown(this.menuContent);this.dropdownMenu=menu.createMenuNoKeysSingle(),this.menu.appendChild(this.dropdownMenu),this.menuListener()}},{key:"menuListener",value:function(){this.dropdownMenu.addEventListener("click",function(){new Prompt("Type a new Username and press Ok")}.bind(this))}}]),Chat}(WindowSkeleton);module.exports=Chat},{"./CreateChatWindows.js":2,"./DropDownMenu.js":4,"./Prompt.js":9,"./Websocket.js":10,"./WindowSkeleton.js":11}],2:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),CreateChatWindows=function(){function CreateChatWindows(){_classCallCheck(this,CreateChatWindows),this.template=document.querySelector("#createChatWindow"),this.chatWindow=document.querySelector("#chatWindow"),this.handle=document.importNode(this.template.content,!0),this.msg=this.handle.firstElementChild.cloneNode(!0),this.clone=null}return _createClass(CreateChatWindows,[{key:"createMymsg",value:function(string,container,userName){this.clone=this.msg.cloneNode(!0),this.clone.firstElementChild.textContent=userName,this.clone.firstElementChild.nextElementSibling.textContent=string,this.clone.classList.add("mymsg"),container.appendChild(this.clone)}},{key:"createSrvMsg",value:function(string,container,userName){var mess=this.msg.cloneNode(!0);mess.firstElementChild.textContent=userName,mess.firstElementChild.nextElementSibling.textContent=string,mess.classList.add("srvmsg"),container.appendChild(mess)}}]),CreateChatWindows}();module.exports=CreateChatWindows},{}],3:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DragAndDrop=function(){function DragAndDrop(){_classCallCheck(this,DragAndDrop),this.drag=null,this.mousePos=null,this.moveMouse=null,this.mouseStart=null,this.xDis=null,this.yDis=null,this.listeners()}return _createClass(DragAndDrop,[{key:"listeners",value:function(){var named=void 0;window.addEventListener("mousedown",function(e){"topMenu"===e.target.getAttribute("id")?this.drag=e.target.parentNode.parentNode:this.drag=e.target.parentNode,this.mousePos={x:e.pageX,y:e.pageY},this.mouseStart=this.mousePos,this.xDis=this.mouseStart.x-this.drag.getBoundingClientRect().left,this.yDis=this.mouseStart.y-this.drag.getBoundingClientRect().top,e.target.classList.contains("draggable")&&window.addEventListener("mousemove",named=function(e){this.mousePos={x:e.pageX,y:e.pageY},this.move(this.drag,this.mousePos,this.xDis,this.yDis)}.bind(this))}.bind(this)),window.addEventListener("mouseup",function(){window.removeEventListener("mousemove",named),setTimeout(function(){this.drag=null}.bind(this),0)}.bind(this))}},{key:"move",value:function(item,mousePos,xDiff,yDiff){var xPos=mousePos.x-xDiff,yPos=mousePos.y-yDiff;item.setAttribute("style","left:"+xPos+"px;top:"+yPos+"px")}}]),DragAndDrop}();module.exports=DragAndDrop},{}],4:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DropDownMenu=function(){function DropDownMenu(items){_classCallCheck(this,DropDownMenu),this.listItems=items||null,this.template=document.querySelector("#menuLinks"),this.handle=document.importNode(this.template.content,!0),this.cont=this.handle.firstElementChild,this.menuLink=this.cont.firstElementChild}return _createClass(DropDownMenu,[{key:"createMenu",value:function(){for(var cont=this.cont.cloneNode(!1),i=0;i<this.listItems.length;i+=1){var link=this.menuLink.cloneNode(!0);link.textContent=Object.keys(this.listItems[i]),cont.appendChild(link)}return cont}},{key:"createMenuNoKeysSingle",value:function(){var cont=this.cont.cloneNode(!1),link=this.menuLink.cloneNode(!0);return link.textContent=this.listItems,cont.appendChild(link),cont}}]),DropDownMenu}();module.exports=DropDownMenu},{}],5:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},WindowSkeleton=require("./WindowSkeleton.js"),locations=require("./allLoc.json"),GoogleMap=function(_WindowSkeleton){function GoogleMap(){_classCallCheck(this,GoogleMap);var _this=_possibleConstructorReturn(this,(GoogleMap.__proto__||Object.getPrototypeOf(GoogleMap)).call(this,"geoguessr"));return _this.template=document.querySelector("#mapTemplate"),_this.handle=document.importNode(_this.template.content,!0),_this.mapContainer=_this.handle.firstElementChild,_this.innercontainer=_get(GoogleMap.prototype.__proto__||Object.getPrototypeOf(GoogleMap.prototype),"getInnerContainer",_this).call(_this),_this.streetViewContainer=_this.handle.firstElementChild.nextElementSibling,_this.submit=_this.handle.lastElementChild,_this.map=null,_this.innercontainer.appendChild(_this.mapContainer),_this.innercontainer.appendChild(_this.streetViewContainer),_this.innercontainer.appendChild(_this.submit),_this.guessButton=_this.submit.firstElementChild.nextElementSibling,_this.newGameButton=_this.guessButton.nextElementSibling,_this.resultBox=_this.submit.firstElementChild,_this.markersReference=[],_this.guessIcon="../image/mapGuess.png",_this.answerIcon="../image/mapAnswer.png",_this.mapStartingPoint={lat:64.40834,lng:18.833136},_this.line=null,_this.positionGuess=null,_this.positionAnswer=null,_this.locationsArray=locations,_this.initMap(),_this.initStreetView(),_this.listener(),_this}return _inherits(GoogleMap,_WindowSkeleton),_createClass(GoogleMap,[{key:"getStreetViewPictures",value:function(){var picIndex=locations[Math.floor(32*Math.random())];return this.positionAnswer=new google.maps.LatLng({lat:picIndex[0],lng:picIndex[1]}),{lat:picIndex[0],lng:picIndex[1]}}},{key:"initMap",value:function(){this.map=new google.maps.Map(this.mapContainer,{center:this.mapStartingPoint,zoom:8,streetViewControl:!1})}},{key:"initStreetView",value:function(){this.street=new google.maps.StreetViewPanorama(this.streetViewContainer,{position:this.getStreetViewPictures(),pov:{heading:34,pitch:10},disableDefaultUI:!0}),this.map.setStreetView(null)}},{key:"listener",value:function(){this.map.addListener("click",function(e){0===this.markersReference.length?this.setMarker(e.latLng,this.guessIcon):(this.removeMarker(),this.setMarker(e.latLng,this.guessIcon))}.bind(this)),this.guessButton.addEventListener("click",function(e){0===this.markersReference.length?this.resultBox.textContent="C´mon give me a guess!":(this.makeGuess(),this.guessButton.classList.toggle("hide"),this.newGameButton.classList.toggle("hide"))}.bind(this)),this.newGameButton.addEventListener("click",function(e){this.removeMarker(),this.removeLine(),this.initStreetView(),this.guessButton.classList.toggle("hide"),this.newGameButton.classList.toggle("hide"),this.map.panTo(this.mapStartingPoint),this.map.setZoom(2)}.bind(this))}},{key:"removeMarker",value:function(){for(var i=0;i<this.markersReference.length;i++)this.markersReference[i].setMap(null);this.markersReference=[]}},{key:"removeLine",value:function(){this.line.setMap(null)}},{key:"setMarker",value:function(pos,iconRef){var icon={url:iconRef,scaledSize:new google.maps.Size(50,50),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(25,35)};this.marker=new google.maps.Marker({position:pos,map:this.map,title:"Your answer",icon:icon}),this.markersReference.push(this.marker),this.positionGuess=this.marker.getPosition(),this.getDistance(this.positionGuess,this.positionAnswer)}},{key:"getDistance",value:function(marker,picPos){var distance=google.maps.geometry.spherical.computeDistanceBetween(marker,picPos);return distance}},{key:"drawLine",value:function(pos1,pos2){this.line=new google.maps.Polyline({path:[pos1,pos2],geodesic:!1,strokeColor:"#000000",strokeOpacity:1,strokeWeight:4}),this.line.setMap(this.map)}},{key:"makeGuess",value:function(){this.drawLine(this.positionGuess,this.positionAnswer);var dis=this.getDistance(this.positionGuess,this.positionAnswer);this.map.panTo(this.positionAnswer),this.map.setZoom(5),this.setMarker(this.positionAnswer,this.answerIcon);var infoBox=new google.maps.InfoWindow({content:this.createInfoBox(dis)});infoBox.open(this.map,this.marker)}},{key:"createInfoBox",value:function(dist){var template=document.querySelector("#infoBoxTemplate"),copy=document.importNode(template.content,!0),clone=copy.firstElementChild,distance=clone.firstElementChild.lastElementChild.previousElementSibling;return distance.textContent=Math.round(dist/1e3),clone}}]),GoogleMap}(WindowSkeleton);module.exports=GoogleMap},{"./WindowSkeleton.js":11,"./allLoc.json":12}],6:[function(require,module,exports){"use strict";function Initializer(){var DragAndDrop=require("./DragAndDrop.js"),Memory=require("./Memory.js"),Chat=require("./Chat.js"),GoogleMap=require("./GoogleMap.js"),create=document.querySelector("#createMemory"),chat=document.querySelector("#createChat"),geoguessr=document.querySelector("#createGeoguessr");new DragAndDrop,create.addEventListener("click",function(){new Memory}),chat.addEventListener("click",function(){new Chat}),geoguessr.addEventListener("click",function(){new GoogleMap})}module.exports=Initializer},{"./Chat.js":1,"./DragAndDrop.js":3,"./GoogleMap.js":5,"./Memory.js":7}],7:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},WindowSkeleton=require("./WindowSkeleton.js"),DropDownMenu=require("./DropDownMenu.js"),Memory=function(_WindowSkeleton){function Memory(){_classCallCheck(this,Memory);var _this=_possibleConstructorReturn(this,(Memory.__proto__||Object.getPrototypeOf(Memory)).call(this,"memory"));return _this.menu=_get(Memory.prototype.__proto__||Object.getPrototypeOf(Memory.prototype),"getMenuHandle",_this).call(_this),_this.menuForDaD=_get(Memory.prototype.__proto__||Object.getPrototypeOf(Memory.prototype),"getMenu",_this).call(_this),_this.menuContent=[{"2x2":4},{"4x4":16},{"6x6":36}],_this.dropdownMenu=null,_this.createDropDown(_this.menuContent),_this.container=_get(Memory.prototype.__proto__||Object.getPrototypeOf(Memory.prototype),"getDiv",_this).call(_this),_this.innercontainer=_get(Memory.prototype.__proto__||Object.getPrototypeOf(Memory.prototype),"getInnerContainer",_this).call(_this),_this.mode=16,_this.imgArray=[],_this.template=document.querySelector("#innerMemory"),_this.handle=document.importNode(_this.template.content,!0),_this.imgContainer=_this.handle.firstElementChild,_this.imgContainerCopy=_this.imgContainer.cloneNode(!1),_this.draws=0,_this.newGame(_this.mode),_this.menuListener(),_this}return _inherits(Memory,_WindowSkeleton),_createClass(Memory,[{key:"classAddDepMode",value:function(mode){var cla=this.imgContainerCopy.classList.item(0);this.imgContainerCopy.classList.remove(cla),4===mode[0]?this.imgContainerCopy.classList.add("twoByTwo"):16===mode[0]?this.imgContainerCopy.classList.add("twoByFour"):this.imgContainerCopy.classList.add("twoBySix")}},{key:"newGameMenuChange",value:function(mode){this.classAddDepMode(mode),this.draws=0,this.clearBoardFromMenuChange(),this.createImgArray(mode),this.drawBoard(this.imgArray)}},{key:"newGame",value:function(mode){this.draws=0,this.createImgArray(mode),this.drawBoard(this.imgArray)}},{key:"drawBoard",value:function(array){for(var img=this.handle.firstElementChild.firstElementChild,lineBreak=this.handle.firstElementChild.firstElementChild.nextElementSibling,picIndex=void 0,i=1;i<array.length+1;i+=1){picIndex=array[i-1];var imgCopy=img.cloneNode(!0);imgCopy.setAttribute("src","image/back.png"),imgCopy.setAttribute("id",array[i-1]),this.imgContainerCopy.appendChild(imgCopy),i%Math.sqrt(this.mode)===0&&i>0&&i<array.length&&this.imgContainerCopy.appendChild(lineBreak.cloneNode(!0))}this.innercontainer.appendChild(this.imgContainerCopy),this.flipPicture()}},{key:"createImgArray",value:function(mode){this.imgArray=[];for(var imgArray=[],i=0;i<mode/2;i+=1)imgArray.push(i),imgArray.push(i);for(var _i=imgArray.length-1;_i>0;_i-=1){var j=Math.floor(Math.random()*(_i+1)),temp=imgArray[_i];imgArray[_i]=imgArray[j],imgArray[j]=temp}this.imgArray=imgArray}},{key:"flipPicture",value:function(){var clickFunction=null,check=0,pic1=void 0,pic2=void 0;this.innercontainer.addEventListener("click",clickFunction=function(e){e.target.classList.contains("clicked")||(e.target.classList.add("clicked"),e.target.classList.contains("memoryCard")&&(e.target.classList.contains("evenPair")||(this.flip(e.target),pic1=e.target,setTimeout(function(){check+=1,2===check&&(pic1.classList.toggle("clicked"),pic2.classList.toggle("clicked"),this.checkEqual(pic1,pic2),check=0),pic2=pic1}.bind(this),0))))}.bind(this)),this.innercontainer.addEventListener("keydown",function(e){32===e.keyCode&&clickFunction(e)})}},{key:"flip",value:function(picture){picture.setAttribute("src","image/"+picture.getAttribute("id")+".png")}},{key:"checkEqual",value:function(pic1,pic2){this.draws+=1,pic1.getAttribute("id")===pic2.getAttribute("id")?(this.removePair(pic1),this.removePair(pic2)):setTimeout(function(){this.turnBack(pic1),this.turnBack(pic2)}.bind(this),1e3)}},{key:"turnBack",value:function(pic){pic.setAttribute("src","image/back.png")}},{key:"removePair",value:function(pic){var check=0,list=document.querySelectorAll(".memoryCard");pic.removeAttribute("src"),pic.classList.add("evenPair"),list.forEach(function(e){e.getAttribute("src")||(check+=1,check===this.imgArray.length&&(check=0,this.clearBoard()))}.bind(this))}},{key:"clearBoardFromMenuChange",value:function(){for(var myNode=this.innercontainer.firstElementChild;myNode.firstChild;)myNode.removeChild(myNode.firstChild)}},{key:"clearBoard",value:function(){for(var myNode=this.innercontainer.firstElementChild;myNode.firstChild;)myNode.removeChild(myNode.firstChild);this.newGame(this.mode)}},{key:"createDropDown",value:function(array){var menu=new DropDownMenu(array);this.dropdownMenu=menu.createMenu(),this.menu.appendChild(this.dropdownMenu)}},{key:"menuListener",value:function(){this.dropdownMenu.addEventListener("click",function(e){for(var list=this.dropdownMenu.children,i=0;i<list.length;i+=1)list[i].textContent===e.target.textContent&&(this.mode=Object.values(this.menuContent[i]),this.newGameMenuChange(this.mode))}.bind(this))}}]),Memory}(WindowSkeleton);module.exports=Memory},{"./DropDownMenu.js":4,"./WindowSkeleton.js":11}],8:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Minimize=function(){function Minimize(text){_classCallCheck(this,Minimize),this.text=text.substring(1,text.length)||"noName",this.template=document.querySelector("#minimize"),this.handle=document.importNode(this.template.content,!0),this.listHead=this.handle.firstElementChild.cloneNode(!0),this.listItem=this.handle.firstElementChild.firstElementChild.firstElementChild,this.listContainer=this.handle.firstElementChild.firstElementChild.cloneNode(!1),this.startMenu=document.querySelector(".startMenu")}return _createClass(Minimize,[{key:"getAElement",value:function(){return this.listItem.cloneNode(!1)}},{key:"createMinimizeList",value:function(){var copy=this.listHead.cloneNode(!1),firstLetter=this.text.charAt(0),upperCase=firstLetter.toUpperCase();copy.textContent=upperCase+this.text.substring(1,this.text.length),copy.appendChild(this.listContainer),this.startMenu.appendChild(copy)}}]),Minimize}();module.exports=Minimize},{}],9:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Prompt=function(){function Prompt(displayText,type){_classCallCheck(this,Prompt),this.type=type,this.text=displayText,this.template=document.querySelector("#createChatWindow"),this.handle=document.importNode(this.template.content,!0),this.overLay=this.handle.firstElementChild.cloneNode(!1),this.temp=document.querySelector("#promptBox"),this.hand=document.importNode(this.temp.content,!0),this.promptButton=this.hand.lastElementChild.lastElementChild.lastElementChild,this.customOverlay()}return _createClass(Prompt,[{key:"getPromptButton",value:function(){return this.promptButton}},{key:"customOverlay",value:function(){this.overLay.classList.add("overlay"),document.body.appendChild(this.overLay),this.customPrompt(this.text)}},{key:"customPrompt",value:function(){var prompt=this.hand.firstElementChild;prompt.classList.add("prompt"),prompt.firstElementChild.textContent=this.text,this.promptButton.addEventListener("click",function(){return console.log("Klickade på knappen!!!!"),0===this.promptButton.previousElementSibling.value.length?void(prompt.firstElementChild.nextElementSibling.textContent="No username is not allowed. Enter one"):void("chat"===this.type?(console.log("sätter local med "+this.promptButton.previousElementSibling.value),this.setLocalStorage(this.promptButton.previousElementSibling.value),this.removePrompt()):this.removePrompt())}.bind(this)),this.overLay.appendChild(prompt)}},{key:"setLocalStorage",value:function(string){localStorage.setItem("username",string)}},{key:"removePrompt",value:function(){document.body.removeChild(this.overLay)}}]),Prompt}();module.exports=Prompt},{}],10:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Websocket=function(){function Websocket(url){_classCallCheck(this,Websocket),this.socket=new WebSocket(url),this.aa={type:"message",data:"The message text is sent using the data property",username:"",channel:"my, not so secret, channel",key:"eDBE76deU7L0H9mEBgxUKVR0VCnq0XBd"},this.userName=null}return _createClass(Websocket,[{key:"getUserName",value:function(){return this.setUserNameViaStorage(),this.userName}},{key:"setUserNameViaStorage",value:function(){this.userName=localStorage.getItem("username")}},{key:"getSocket",value:function(){return this.socket}},{key:"sendMessage",value:function(string){this.userName=this.getUserName(),this.aa.username=this.userName,this.aa.data=string,this.socket.send(JSON.stringify(this.aa))}}]),Websocket}();module.exports=Websocket},{}],11:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Minimize=require("./Minimize.js"),helper=require("./helper.js"),WindowSkeleton=function(){function WindowSkeleton(CssClass){var offSet=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,WindowSkeleton),this.CSSclass="."+CssClass,this.template=document.querySelector("#test"),this.handle=document.importNode(this.template.content,!0),this.div=this.handle.firstElementChild,this.innercontainer=this.div.lastElementChild,this.menu=this.div.firstElementChild,this.startMenu=document.querySelector("#startMenu"),this.extraOff=offSet,this.addClass(this.CSSclass),this.offSet(this.CSSclass,this.extraOff),this.desktop=document.querySelector("#desktop"),this.desktop.appendChild(this.div),this.close=this.div.firstElementChild.firstElementChild.lastElementChild,this.minimizeButton=this.div.firstElementChild.firstElementChild.lastElementChild.previousElementSibling,this.settings=this.div.firstElementChild.firstElementChild.nextElementSibling.firstElementChild,this.dropDown=this.div.firstElementChild.firstElementChild.nextElementSibling,this.showMenu=null,this.checkMinimize(),this.styleMenu(CssClass),this.listeners(),this.divList=null,this.itemsInMenu,this.minimized=null,this.miniMizedList,this.miniMizeTab=null}return _createClass(WindowSkeleton,[{key:"checkMinimize",value:function(){var listItem=void 0,displayText=this.CSSclass.substring(2,this.CSSclass.length),upperCase=this.CSSclass.substring(1,2);if(this.divList=helper.divList(this.CSSclass),1===this.divList.length)this.minimize=new Minimize(this.CSSclass),this.minimize.createMinimizeList(),this.minMizeTab=document.querySelector("#minimizeHead"),this.minMizeTab.setAttribute("id",this.CSSclass.substring(1,this.CSSclass.length)),this.minimized=document.querySelector("#"+this.CSSclass.substring(1,this.CSSclass.length)),listItem=this.minimize.getAElement(),listItem.textContent=upperCase.toUpperCase()+displayText,this.minimized.firstElementChild.appendChild(listItem),this.itemsInMenu=document.querySelector("#"+this.CSSclass.substring(1,this.CSSclass.length)).firstElementChild.children;else{this.minMizeTab=document.querySelector("#"+this.CSSclass.substring(1,this.CSSclass.length)),this.minimized=document.querySelector("#"+this.CSSclass.substring(1,this.CSSclass.length));
var temp=document.querySelector("#A"),clone=document.importNode(temp.content,!0),a=clone.firstElementChild;a.textContent=upperCase.toUpperCase()+displayText,a.classList.add("aItems"),this.minimized.firstElementChild.appendChild(a),this.itemsInMenu=document.querySelector("#"+this.CSSclass.substring(1,this.CSSclass.length)).firstElementChild.children}this.miniMizedList=this.minMizeTab.firstElementChild,this.miniMizedListeners(this.miniMizedList)}},{key:"getMenu",value:function(){return this.menu}},{key:"getMenuHandle",value:function(){return this.dropDown}},{key:"getDiv",value:function(){return this.div}},{key:"getInnerContainer",value:function(){return this.innercontainer}},{key:"miniMizedListeners",value:function(list){var index=0;this.minMizeTab.addEventListener("click",function(){this.miniMizedList.classList.toggle("show")}.bind(this)),list.addEventListener("click",function(e){for(var i=0;i<this.itemsInMenu.length;i+=1)this.itemsInMenu[i]===e.target&&(index=i);this.divList[index].classList.contains("minimized")&&(this.divList[index].classList.remove("minimized"),this.itemsInMenu[index].classList.remove("miniMizedShown"));for(var _i=0;_i<this.divList.length;_i+=1)this.divList[_i].classList.contains("onTop")&&this.divList[_i].classList.remove("onTop");this.divList[index].classList.add("onTop")}.bind(this))}},{key:"listeners",value:function(){this.showMenu=this.div.firstElementChild.firstElementChild.nextElementSibling.lastElementChild,window.addEventListener("click",function(e){e.target!==this.minMizeTab&&this.miniMizedList.classList.contains("show")?this.miniMizedList.classList.remove("show"):e.target!==this.settings&&this.div.firstElementChild.firstElementChild.nextElementSibling.lastElementChild.classList.contains("show")&&this.div.firstElementChild.firstElementChild.nextElementSibling.lastElementChild.classList.remove("show")}.bind(this)),this.div.addEventListener("click",function(e){this.divList=window.document.querySelectorAll(this.CSSclass);for(var index=0,i=0;i<this.divList.length;i+=1)this.div===this.divList[i]&&(index=i);this.onTop(),this.div.classList.add("onTop"),e.target===this.close?(this.miniMizedList.removeChild(this.itemsInMenu[index]),this.desktop.removeChild(this.div),this.divList=window.document.querySelectorAll(this.CSSclass),0===this.divList.length&&this.startMenu.removeChild(this.minMizeTab)):e.target===this.settings?(this.showMenu=this.div.firstElementChild.firstElementChild.nextElementSibling.lastElementChild,this.showMenu.classList.toggle("show")):e.target===this.minimizeButton&&(this.itemsInMenu[index].classList.add("miniMizedShown"),this.div.classList.add("minimized"))}.bind(this))}},{key:"offSet",value:function(item,xOff){xOff=xOff;var list=document.querySelectorAll(item),offsetX=30*list.length+15+xOff,offsetY=30*list.length+15;if(offsetY>window.innerHeight-100){var offY=offsetY-(window.innerHeight-150);offsetX+=50+xOff,this.div.setAttribute("style","left:"+offsetX+"px;top:"+offY+"px")}else this.div.setAttribute("style","left:"+offsetX+"px;top:"+offsetY+"px")}},{key:"onTop",value:function(){var list=document.querySelectorAll("#container");list.forEach(function(e){e.classList.remove("onTop")})}},{key:"addClass",value:function(string){var newItem=string.replace(".","");string.replace(".","aa"),this.div.classList.add(newItem)}},{key:"styleMenu",value:function(typeApp){this.menu.firstElementChild.firstElementChild.setAttribute("src","./image/"+typeApp+".png");var bigL=typeApp.charAt(0).toUpperCase(),newString=typeApp.replace(typeApp.charAt(0),bigL);this.menu.firstElementChild.firstElementChild.nextElementSibling.textContent=newString}}]),WindowSkeleton}();module.exports=WindowSkeleton},{"./Minimize.js":8,"./helper.js":14}],12:[function(require,module,exports){module.exports=[[-26.938312,-68.74491499999999],[60.534114,-149.55007899999998],[60.070409,6.542388999999957],[30.184983,-84.72466199999997],[36.252972,136.90053699999999],[48.865937,2.312376],[27.814125,86.713193],[36.2381539,137.9683151],[64.0444798,-16.1711884],[42.658402,11.633269],[30.3248983,35.4471292],[47.51075,10.390309],[53.043081,57.064946],[-8.4226166,115.3124971],[35.659607,139.700378],[50.087586,14.421231],[-13.165713,-72.545542],[41.403286,2.174673],[-14.251967,-170.689851],[33.461503,126.939297],[-64.731988,-62.594564],[27.17557,78.041462],[68.19649,13.53183],[53.2783229,107.3506844],[59.9387245,30.3163621],[40.4900264,-75.0729199],[14.5841104,120.9799109],[17.5707683,120.3886023],[10.6422373,122.2358045],[18.0619395,120.5205914],[17.5713349,120.3887765],[.5738293,37.5750599],[-1.3766622,36.7743556]]},{}],13:[function(require,module,exports){"use strict";var Init=require("./Initializer.js");window.addEventListener("load",function(){new Init})},{"./Initializer.js":6}],14:[function(require,module,exports){"use strict";exports.divList=function(css){return window.document.querySelectorAll(css)},exports.createTab=function(css){}},{}]},{},[13]);
